---
tags:
  - computer-science
  - database
---
- **关系数据结构**
	- **关系**
		- 域：一组具有相同数据类型的集合。
		- 元组：给定一组域 $D_1,D_2,\dots,D_n$，$D_1\times D_2\times \cdots\times D_n$ 中的元素 $(d_1,d_2,\dots,d_n)$ 称为 $n$ 元组。
		- 分量：元组中的每一个 $d_i$。
		- 关系：$D_1\times D_2\times \cdots\times D_n$ 的子集，记作 $R(D_1,D_2,\dots,D_n)$。
		- 属性：关系中每一个分量的名字。
		- 键：可以唯一标识关系中的元组的属性或属性组。
		- 候选键：任意真子集不是键的键。
		- 主属性：组成候选键的元素。
		- 全键：所有属性组成的键。
	- **关系完整性**
		- **实体完整性**
			- 主属性不能取空值。
		- **参照完整性**
			- 已知 $R(K_R,F,\dots),S(K_S,\dots)$，且 $F$ 与 $S_K$ 对应，则 $F$ 是 $R$ 的外键，$R$ 是参照关系，$S$ 是被参照关系。
			- $F$ 和 $K_S$ 必须是同一个域，$R$ 和 $S$ 可以是同一个关系。
			- $F$ 的取值必须是 $S$ 中某个 $K_S$ 的取值，或是空值。
		- **用户定义完整性**
			- 用户根据具体需求定义的约束。
			- 关系模型提供检验的机制，不需要应用程序检验。
- **关系代数**
	- **传统集合运算**
		- 参考[集合](/pages/mathematics/discrete-mathematics/set.md#g6tiqk)中的内容。主要常用的有交、并、差、笛卡尔积。
	- **选择**
		- 已知关系 $R(A_1,A_2,\dots,A_n)$，元组 $t\in R$，规定：
			- $t[A_i]$ 表示 $t$ 中对应 $A_i$ 的分量
			- 若 $A={A_{i_1},A_{i_2},\dots,A_{i_k}}$，则 $t[A]$ 表示 $t$ 中 $A$ 中所有属性对应的分量
		- 定义 $R$ 的选择为在 $R$ 中选择满足谓词 $F$ 的元组的集合，记作 $\sigma_F(R)$。
		- $\sigma_F(R) = \{t \mid t \in R \land F(t)\}$
	- **投影**
		- 定义 $R$ 的投影为在 $R$ 中选择指定的属性集 $A$ 组成的关系，记作 $\Pi_A(R)$。
		- $\Pi_A(R) = \{t[A] \mid t \in R\}$
		- 原关系中的元组在选择指定的属性后可能会重复，投影结果则不包含重复。
	- **连接**
		- 已知元组 $t_1,t_2$，规定 $\stackrel{\frown}{t_1 t_2}$ 表示两个元组拼接。
		- 已知关系 $R,S$、属性集 $A,B$、谓词 $F$，定义连接为将 $R,S$ 中所有符合条件的元组拼接的结果，条件是 $A,B$ 满足的条件，记作 $R \underset{F(A,B)}{\Join} S$。
		- $R \underset{F(A,B)}{\Join} S = \{\stackrel{\frown}{t_R t_S} \mid t_R \in A \land t_S \in S \land F(t_R[A],t_S[B])\}$
		- 连接的一种特殊形式是等值连接：$R \underset{A=B}{\Join} S$。
		- 等值连接的一种特殊形式是自然连接：$R \Join S$ 中比较 $R,S$ 中共同的属性集，并去除重复列。
	- **除**
		- 已知关系 $R(X,Y),S(Y,Z)$，$X,Y,Z$ 为属性集，定义除 $R\div S$ 为所有 $x \in t_R[X]$ 满足 $\Pi_Y(S) \subseteq \Pi_Y(\sigma_{t_R[X] = x}(R))$
